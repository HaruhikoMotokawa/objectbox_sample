# Git コミットルール

## コミットメッセージPrefix

- `feat` : 新機能の追加
- `fix` : バグ修正
- `test` : テストコードの追加・修正
- `refactor` : リファクタリング（機能変更なし）
- `chore` : ビルドプロセス、ドキュメント整備、その他（ライブラリアップデート等）

## コミット実行時のルール

### 1. 変更ファイルの分析とグループ化
- `git status` または `git diff --name-only` で変更ファイル一覧を取得
- 変更ファイルを**意味のある単位**でグループ化する
  - 例：同じ機能に関連するファイル、同じバグ修正に関連するファイル、同じリファクタリング対象のファイル
  - 例：`lib/features/user/` 配下の複数ファイルは「ユーザー機能の追加」として1つのコミットにまとめる
  - 例：`test/` と `lib/` の対応ファイルは別々のコミットにする（テスト追加と実装変更は分離）

### 2. コミットの粒度判断
- **1つのコミットで十分な場合**：変更が単一の目的（例：1つのバグ修正、1つの機能追加）に集中している
- **複数のコミットに分ける場合**：
  - 異なる機能の追加が混在している
  - バグ修正とリファクタリングが混在している
  - テスト追加と実装変更が混在している
  - 設定ファイルの変更とコード変更が混在している

### 3. コミットメッセージの形式
```
<prefix>: <わかりやすい簡潔な説明>

- <変更内容の概要1>
- <変更内容の概要2>
- <変更内容の概要3>
```

**例：**
```
feat: ユーザープロフィール編集機能を追加

- プロフィール編集画面のUI実装
- ユーザー情報更新APIとの連携
- バリデーション処理の追加
```

```
fix: ログイン時のエラーハンドリングを修正

- ネットワークエラー時の適切なエラーメッセージ表示
- タイムアウト処理の改善
```

### 4. コミット実行手順
1. 変更ファイルを確認し、意味のあるグループに分類
2. 各グループに対して以下を実行：
   - `git add <該当ファイル>` でステージング
   - コミットメッセージを作成（prefix + 説明 + 箇条書きの概要）
   - `git commit -m "<prefix>: <説明>" -m "- <概要1>" -m "- <概要2>"` でコミット
3. 複数のコミットに分ける場合は、上記を繰り返す

### 5. コミットメッセージ作成の注意点
- **簡潔で明確な説明**：何をしたかが一目でわかるように（50文字以内を推奨）
- **箇条書きの概要**：主要な変更点を3-5項目程度で箇条書き
- **日本語で記述**：プロジェクトの言語に合わせる
- **技術的な詳細は避ける**：実装の詳細より、何を変更したかに焦点を当てる
